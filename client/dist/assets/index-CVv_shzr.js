import{a as E,g as F,r as l,j as e}from"./index-CHS3ffuP.js";import{g as C,u as D}from"./AuthService-CWGUZqPg.js";import{f as L}from"./index-Cmp9ptMe.js";import{S as P}from"./index-CD1s_igV.js";import"./iconBase-Bv3yHtYe.js";const A=()=>{var y,b;const{state:g}=E(),a=((b=(y=F())==null?void 0:y.user)==null?void 0:b._id)||g,[n,m]=l.useState(null),[o,j]=l.useState(!1),[p,u]=l.useState(null),[h,f]=l.useState(null),[c,x]=l.useState(!1),N=s=>{const{name:t,value:i,files:r}=s.target;try{r?u(r[0]):m({...n,[t]:r?r[0]:i})}catch(v){console.log(v)}},w=s=>{try{const{files:t}=s.target;t&&(u(t[0]),f(t[0]))}catch(t){console.log(t),f(null)}};l.useEffect(()=>{a&&(async()=>{const t=await C(a);m({...t==null?void 0:t.account,...t==null?void 0:t.personal})})()},[a]);const S=async s=>{s.preventDefault(),x(!0);const t={personal:{...n},account:{...n}},i=new FormData;i.append("account",JSON.stringify(t.account)),i.append("personal",JSON.stringify(t.personal)),h&&i.append("profile",h),a&&(await D(a,i),window.location.reload()),x(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{class:"main-part",children:[e.jsxs("div",{className:"d-flex my-3 py-2  admin-header justify-content-between align-items-center",children:[e.jsx("h5",{className:"text-capitalize m-0 fw-semibold",children:"Personal Details"}),e.jsx("div",{className:"right-profile  d-flex gap-4",children:!o&&e.jsx("div",{children:e.jsx("button",{onClick:()=>j(!0),className:"btn-red py-2 text-decoration-none",children:"Edit"})})})]}),e.jsxs("form",{action:"",onSubmit:S,children:[e.jsx("div",{className:"bg-white create-mamber",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"profile d-flex justify-content-center ",children:e.jsxs("div",{className:"position-relative ",style:{width:"150px",aspectRatio:"1/1"},children:[e.jsx("img",{src:p&&URL.createObjectURL(p)||P+(n==null?void 0:n.profile),className:"h-100 bg-light rounded-circle  w-100",alt:""}),o&&e.jsxs("label",{htmlFor:"profile",className:"position-absolute cursor-pointer",style:{bottom:"25%",right:"-10%"},children:[e.jsx("input",{onChange:w,type:"file",name:"profile",className:"position-absolute",style:{opacity:0}}),e.jsx("div",{className:"bg-very-light-gray p-2 rounded-circle cursor-pointer  ",children:e.jsx(L,{size:25})})]})]})}),e.jsx("div",{className:"row row-cols-3",children:d==null?void 0:d.map((s,t)=>e.jsx("div",{children:e.jsxs("div",{className:"mx-3 mb-3 d-flex flex-column gap-2 field",children:[e.jsx("label",{className:"ms-3",htmlFor:"",children:s==null?void 0:s.label}),e.jsx("input",{type:"text",style:{cursor:a?o?"auto":"not-allowed":"auto"},disabled:a?!o:!1,onChange:N,value:n&&n[s==null?void 0:s.name],name:s==null?void 0:s.name,className:"input-field"})]})},t))})]})})}),(o||!a)&&e.jsx("div",{className:"text-center",children:e.jsx("button",{disabled:c,style:{cursor:c?"not-allowed":"pointer"},className:"btn-red rounded-5 px-4 my-3",children:c?"wait....":"Save"})})]})]})})},d=[{place:"Thomas",type:"input",name:"firstName",label:"First name"},{place:"Domingue",type:"input",name:"lastName",label:"Last name"},{place:"thomas.domnugue@gmail.com",type:"input",name:"email",label:" E-mail"},{place:"Paris, France",type:"input",name:"city",label:"City of residence"},{place:" 10-05-1993",type:"date",name:"dob",label:"Date Of birth"},{place:" 07754838908",type:"input",name:"phone",label:"Phone number"},{place:"Blue Nest",type:"input",name:"company",label:"Company name"},{place:" Tech and E-commerce ",type:"input",name:"industry",label:" Industry"}];export{A as default};
